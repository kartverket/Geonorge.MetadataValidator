<?xml version="1.0" encoding="utf-8"?>
<schema xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:gml="http://www.opengis.net/gml" elementFormDefault="qualified" targetNamespace="http://www.opengis.net/gml" version="3.1.1.2" xmlns="http://www.w3.org/2001/XMLSchema">
  <include schemaLocation="gml.xsd" />
  <include schemaLocation="feature.xsd" />
  <include schemaLocation="valueObjects.xsd" />
  <include schemaLocation="grids.xsd" />
  <include schemaLocation="geometryAggregates.xsd" />
  <annotation>
    <appinfo source="urn:opengis:specification:gml:schema-xsd:coverage:3.1.1">coverage.xsd</appinfo>
    <documentation xml:lang="en">GML Coverage schema.
			
			GML is an OGC Standard.
			Copyright (c) 2001,2005,2010 Open Geospatial Consortium.
			To obtain additional rights of use, visit http://www.opengeospatial.org/legal/ .
		</documentation>
  </annotation>
  <element abstract="true" name="_Coverage" substitutionGroup="gml:_Feature" type="gml:AbstractCoverageType" />
  <complexType name="AbstractCoverageType" abstract="true">
    <annotation>
      <documentation>Abstract element which acts as the head of a substitution group for coverages. Note that a coverage is a GML feature.</documentation>
    </annotation>
    <complexContent mixed="false">
      <extension base="gml:AbstractFeatureType">
        <sequence>
          <element ref="gml:domainSet" />
          <element ref="gml:rangeSet" />
        </sequence>
        <attribute name="dimension" type="positiveInteger" use="optional" />
      </extension>
    </complexContent>
  </complexType>
  <element abstract="true" name="_ContinuousCoverage" substitutionGroup="gml:_Coverage" type="gml:AbstractContinuousCoverageType" />
  <complexType name="AbstractContinuousCoverageType" abstract="true">
    <annotation>
      <documentation>A continuous coverage as defined in ISO 19123 is a coverage that can return different values for the same feature attribute at different direct positions within a single spatiotemporal object in its spatiotemporal domain</documentation>
    </annotation>
    <complexContent mixed="false">
      <extension base="gml:AbstractCoverageType">
        <sequence>
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element abstract="true" name="_DiscreteCoverage" substitutionGroup="gml:_Coverage" type="gml:AbstractDiscreteCoverageType" />
  <complexType name="AbstractDiscreteCoverageType" abstract="true">
    <annotation>
      <documentation>A discrete coverage consists of a domain set, range set and optionally a coverage function. The domain set consists of either geometry or temporal objects, finite in number. The range set is comprised of a finite number of attribute values each of which is associated to every direct position within any single spatiotemporal object in the domain. In other words, the range values are constant on each spatiotemporal object in the domain. This coverage function maps each element from the coverage domain to an element in its range. This definition conforms to ISO 19123.</documentation>
    </annotation>
    <complexContent mixed="false">
      <extension base="gml:AbstractCoverageType">
        <sequence>
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <element name="domainSet" type="gml:DomainSetType" />
  <complexType name="DomainSetType">
    <annotation>
      <documentation>The spatiotemporal domain of a coverage.  
  Typically 
  * a geometry collection, 
  * an implicit geometry (e.g. a grid), 
  * an explicit or implicit collection of time instances or periods, or

N.B. Temporal geometric complexes and temporal grids are not yet implemented in GML.</documentation>
    </annotation>
    <sequence minOccurs="0">
      <choice>
        <element ref="gml:_Geometry" />
        <element ref="gml:_TimeObject" />
      </choice>
    </sequence>
    <attributeGroup ref="gml:AssociationAttributeGroup" />
  </complexType>
  <element name="rangeSet" type="gml:RangeSetType" />
  <complexType name="RangeSetType">
    <choice>
      <element maxOccurs="unbounded" ref="gml:ValueArray">
        <annotation>
          <documentation>each member _Value holds a tuple or "row" from the equivalent table</documentation>
        </annotation>
      </element>
      <group maxOccurs="unbounded" ref="gml:ScalarValueList">
        <annotation>
          <documentation>each list holds the complete set of one scalar component from the values - i.e. a "column" from the equivalent table</documentation>
        </annotation>
      </group>
      <element ref="gml:DataBlock">
        <annotation>
          <documentation>Its tuple list holds the values as space-separated tuples each of which contains comma-separated components, and the tuple structure is specified using the rangeParameters property.</documentation>
        </annotation>
      </element>
      <element ref="gml:File">
        <annotation>
          <documentation>a reference to an external source for the data, together with a description of how that external source is structured</documentation>
        </annotation>
      </element>
    </choice>
  </complexType>
  <element name="coverageFunction" type="gml:CoverageFunctionType" />
  <complexType name="CoverageFunctionType">
    <annotation>
      <documentation>The function or rule which defines the map from members of the domainSet to the range.  
      More functions will be added to this list</documentation>
    </annotation>
    <choice>
      <element ref="gml:MappingRule" />
      <element ref="gml:GridFunction" />
    </choice>
  </complexType>
  <element name="DataBlock" type="gml:DataBlockType" />
  <complexType name="DataBlockType">
    <sequence>
      <element ref="gml:rangeParameters" />
      <choice>
        <element ref="gml:tupleList" />
        <element ref="gml:doubleOrNullTupleList" />
      </choice>
    </sequence>
  </complexType>
  <element name="tupleList" type="gml:CoordinatesType" />
  <element name="doubleOrNullTupleList" type="gml:doubleOrNullList" />
  <element name="File" type="gml:FileType" />
  <complexType name="FileType">
    <sequence>
      <element ref="gml:rangeParameters" />
      <element name="fileName" type="anyURI" />
      <element name="fileStructure" type="gml:FileValueModelType" />
      <element minOccurs="0" name="mimeType" type="anyURI" />
      <element minOccurs="0" name="compression" type="anyURI" />
    </sequence>
  </complexType>
  <simpleType name="FileValueModelType">
    <annotation>
      <documentation>List of codes that identifies the file structure model for records stored in files.</documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Record Interleaved" />
    </restriction>
  </simpleType>
  <element name="rangeParameters" type="gml:RangeParametersType" />
  <complexType name="RangeParametersType">
    <annotation>
      <documentation>Metadata about the rangeSet.  Definition of record structure.   
      This is required if the rangeSet is encoded in a DataBlock.  
      We use a gml:_Value with empty values as a map of the composite value structure.</documentation>
    </annotation>
    <sequence minOccurs="0">
      <group ref="gml:ValueObject" />
    </sequence>
    <attributeGroup ref="gml:AssociationAttributeGroup" />
  </complexType>
  <element name="MappingRule" type="gml:StringOrRefType">
    <annotation>
      <documentation>Description of a rule for associating members from the domainSet with members of the rangeSet.</documentation>
    </annotation>
  </element>
  <element name="GridFunction" type="gml:GridFunctionType" />
  <complexType name="GridFunctionType">
    <annotation>
      <documentation>Defines how values in the domain are mapped to the range set. The start point and the sequencing rule are specified here.</documentation>
    </annotation>
    <sequence>
      <element minOccurs="0" name="sequenceRule" type="gml:SequenceRuleType">
        <annotation>
          <documentation>If absent, the implied value is "Linear".</documentation>
        </annotation>
      </element>
      <element minOccurs="0" name="startPoint" type="gml:integerList">
        <annotation>
          <documentation>Index position of the first grid post, which must lie somwhere in the GridEnvelope.  If absent, the startPoint is equal to the value of gridEnvelope::low from the grid definition.</documentation>
        </annotation>
      </element>
    </sequence>
  </complexType>
  <element name="IndexMap" substitutionGroup="gml:GridFunction" type="gml:IndexMapType" />
  <complexType name="IndexMapType">
    <annotation>
      <documentation>Exends GridFunctionType with a lookUpTable.  This contains a list of indexes of members within the rangeSet corresponding with the members of the domainSet.  The domainSet is traversed in list order if it is enumerated explicitly, or in the order specified by a SequenceRule if the domain is an implicit set.    The length of the lookUpTable corresponds with the length of the subset of the domainSet for which the coverage is defined.</documentation>
    </annotation>
    <complexContent mixed="false">
      <extension base="gml:GridFunctionType">
        <sequence>
          <element name="lookUpTable" type="gml:integerList" />
        </sequence>
      </extension>
    </complexContent>
  </complexType>
  <complexType name="SequenceRuleType">
    <simpleContent>
      <extension base="gml:SequenceRuleNames">
        <attribute name="order" type="gml:IncrementOrder" use="optional" />
      </extension>
    </simpleContent>
  </complexType>
  <simpleType name="SequenceRuleNames">
    <annotation>
      <documentation>List of codes (adopted from ISO 19123 Annex C) that identifies the rule for traversing a grid to correspond with the sequence of members of the rangeSet.</documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="Linear" />
      <enumeration value="Boustrophedonic" />
      <enumeration value="Cantor-diagonal" />
      <enumeration value="Spiral" />
      <enumeration value="Morton" />
      <enumeration value="Hilbert" />
    </restriction>
  </simpleType>
  <simpleType name="IncrementOrder">
    <annotation>
      <documentation>The enumeration value here indicates the incrementation order  to be used on the first 2 axes, i.e. "+x-y" means that the points on the first axis are to be traversed from lowest to highest and  the points on the second axis are to be traversed from highest to lowest. The points on all other axes (if any) beyond the first 2 are assumed to increment from lowest to highest.</documentation>
    </annotation>
    <restriction base="string">
      <enumeration value="+x+y" />
      <enumeration value="+y+x" />
      <enumeration value="+x-y" />
      <enumeration value="-x-y" />
    </restriction>
  </simpleType>
  <element name="MultiPointCoverage" substitutionGroup="gml:_DiscreteCoverage" type="gml:MultiPointCoverageType" />
  <complexType name="MultiPointCoverageType">
    <annotation>
      <documentation>A discrete coverage type whose domain is defined by a collection of point</documentation>
    </annotation>
    <complexContent mixed="false">
      <restriction base="gml:AbstractDiscreteCoverageType">
        <sequence>
          <group ref="gml:StandardObjectProperties" />
          <element minOccurs="0" ref="gml:boundedBy" />
          <element ref="gml:multiPointDomain" />
          <element ref="gml:rangeSet" />
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="multiPointDomain" substitutionGroup="gml:domainSet" type="gml:MultiPointDomainType" />
  <complexType name="MultiPointDomainType">
    <complexContent mixed="false">
      <restriction base="gml:DomainSetType">
        <sequence minOccurs="0">
          <element ref="gml:MultiPoint" />
        </sequence>
        <attributeGroup ref="gml:AssociationAttributeGroup" />
      </restriction>
    </complexContent>
  </complexType>
  <element name="MultiCurveCoverage" substitutionGroup="gml:_DiscreteCoverage" type="gml:MultiCurveCoverageType" />
  <complexType name="MultiCurveCoverageType">
    <annotation>
      <documentation>A discrete coverage type whose domain is defined by a collection of curves.</documentation>
    </annotation>
    <complexContent mixed="false">
      <restriction base="gml:AbstractDiscreteCoverageType">
        <sequence>
          <group ref="gml:StandardObjectProperties" />
          <element minOccurs="0" ref="gml:boundedBy" />
          <element ref="gml:multiCurveDomain" />
          <element ref="gml:rangeSet" />
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="multiCurveDomain" substitutionGroup="gml:domainSet" type="gml:MultiCurveDomainType" />
  <complexType name="MultiCurveDomainType">
    <complexContent mixed="false">
      <restriction base="gml:DomainSetType">
        <sequence minOccurs="0">
          <element ref="gml:MultiCurve" />
        </sequence>
        <attributeGroup ref="gml:AssociationAttributeGroup" />
      </restriction>
    </complexContent>
  </complexType>
  <element name="MultiSurfaceCoverage" substitutionGroup="gml:_DiscreteCoverage" type="gml:MultiSurfaceCoverageType" />
  <complexType name="MultiSurfaceCoverageType">
    <annotation>
      <documentation>A discrete coverage type whose domain is defined by a collection of surface patches (includes polygons, triangles, rectangles, etc).</documentation>
    </annotation>
    <complexContent mixed="false">
      <restriction base="gml:AbstractDiscreteCoverageType">
        <sequence>
          <group ref="gml:StandardObjectProperties" />
          <element minOccurs="0" ref="gml:boundedBy" />
          <element ref="gml:multiSurfaceDomain" />
          <element ref="gml:rangeSet" />
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="multiSurfaceDomain" substitutionGroup="gml:domainSet" type="gml:MultiSurfaceDomainType" />
  <complexType name="MultiSurfaceDomainType">
    <complexContent mixed="false">
      <restriction base="gml:DomainSetType">
        <sequence minOccurs="0">
          <element ref="gml:MultiSurface" />
        </sequence>
        <attributeGroup ref="gml:AssociationAttributeGroup" />
      </restriction>
    </complexContent>
  </complexType>
  <element name="MultiSolidCoverage" substitutionGroup="gml:_DiscreteCoverage" type="gml:MultiSolidCoverageType" />
  <complexType name="MultiSolidCoverageType">
    <annotation>
      <documentation>A discrete coverage type whose domain is defined by a collection of Solids.</documentation>
    </annotation>
    <complexContent mixed="false">
      <restriction base="gml:AbstractDiscreteCoverageType">
        <sequence>
          <group ref="gml:StandardObjectProperties" />
          <element minOccurs="0" ref="gml:boundedBy" />
          <element ref="gml:multiSolidDomain" />
          <element ref="gml:rangeSet" />
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="multiSolidDomain" substitutionGroup="gml:domainSet" type="gml:MultiSolidDomainType" />
  <complexType name="MultiSolidDomainType">
    <complexContent mixed="false">
      <restriction base="gml:DomainSetType">
        <sequence minOccurs="0">
          <element ref="gml:MultiSolid" />
        </sequence>
        <attributeGroup ref="gml:AssociationAttributeGroup" />
      </restriction>
    </complexContent>
  </complexType>
  <element name="GridCoverage" substitutionGroup="gml:_DiscreteCoverage" type="gml:GridCoverageType" />
  <complexType name="GridCoverageType">
    <complexContent mixed="false">
      <restriction base="gml:AbstractDiscreteCoverageType">
        <sequence>
          <group ref="gml:StandardObjectProperties" />
          <element minOccurs="0" ref="gml:boundedBy" />
          <element ref="gml:gridDomain" />
          <element ref="gml:rangeSet" />
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="gridDomain" substitutionGroup="gml:domainSet" type="gml:GridDomainType" />
  <complexType name="GridDomainType">
    <complexContent mixed="false">
      <restriction base="gml:DomainSetType">
        <sequence minOccurs="0">
          <element ref="gml:Grid" />
        </sequence>
        <attributeGroup ref="gml:AssociationAttributeGroup" />
      </restriction>
    </complexContent>
  </complexType>
  <element name="RectifiedGridCoverage" substitutionGroup="gml:_DiscreteCoverage" type="gml:RectifiedGridCoverageType" />
  <complexType name="RectifiedGridCoverageType">
    <complexContent mixed="false">
      <restriction base="gml:AbstractDiscreteCoverageType">
        <sequence>
          <group ref="gml:StandardObjectProperties" />
          <element minOccurs="0" ref="gml:boundedBy" />
          <element ref="gml:rectifiedGridDomain" />
          <element ref="gml:rangeSet" />
          <element minOccurs="0" ref="gml:coverageFunction" />
        </sequence>
      </restriction>
    </complexContent>
  </complexType>
  <element name="rectifiedGridDomain" substitutionGroup="gml:domainSet" type="gml:RectifiedGridDomainType" />
  <complexType name="RectifiedGridDomainType">
    <complexContent mixed="false">
      <restriction base="gml:DomainSetType">
        <sequence minOccurs="0">
          <element ref="gml:RectifiedGrid" />
        </sequence>
        <attributeGroup ref="gml:AssociationAttributeGroup" />
      </restriction>
    </complexContent>
  </complexType>
</schema>